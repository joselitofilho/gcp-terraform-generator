appengines:
    - name: engine
      project: ${var.project_id}
      location_id: BR
    - name: appengine
      project: ${var.project_id}
      location_id: BR
bigquery:
    - name: dataset.bq
      schema: |-
        <<EOF
        # Define your BigQuery schema here
        EOF
bigtables:
    - name: bigtable
      labels:
        engine-sender: google_app_engine_application.engine_app.name
dataflows:
    - name: dataflow
      template_gcs_path: gs://my-bucket/templates/template_file
      temp_gcs_location: gs://my-bucket/templates/template_file
      input_topics:
        - pubsub
      output_topics:
        - psengine
        - psfunc
      output_directories:
        - storage
      output_tables:
        - dataset.bq
functions:
    - name: func
      source: .
      runtime: go1.x
      source_archive_bucket: ${google_storage_bucket.archive_funcs_bucket.name}
      source_archive_object: ${google_storage_bucket_object.func_archive_funcs_object.name}
      trigger_http: "true"
      entry_point: funcFunction
      envars:
        PSFUNC_TOPIC_NAME: google_pubsub_topic.psfunc_topic.name
iotcores:
    - name: core1
      event_notification_configs:
        - pubsub_topic_name: pubsub
    - name: core2
      event_notification_configs:
        - pubsub_topic_name: pubsub
pubsubs:
    - name: pubsub
    - name: psengine
      labels:
        engine-subscriber: google_app_engine_application.engine_app.name
    - name: psfunc
      push_endpoint: func
    - name: psappengine
      labels:
        appengine-subscriber: google_app_engine_application.appengine_app.name
        func-publisher: google_cloudfunctions_function.func_function.name
storages:
    - name: archive-funcs
      location: US
    - name: storage
      location: US
